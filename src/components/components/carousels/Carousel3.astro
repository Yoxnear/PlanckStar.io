---
//2 Instruction in this component
import { Image } from "astro:assets";

// ↓ Here you can add the images/slides. ❶
import Image1 from "../../../assets/images/Lorem.jpg";

const slides = [
  { src: Image1, alt: "First image" },
  { src: Image1, alt: "Second image" },
  { src: Image1, alt: "Third image" },
];

// Here you can change the interval time (milliseconds). ❷
const intervalTime = 5000; 
---

<!-- Carousel -->
<div class="flex relative overflow-hidden w-full text-white/80 not-content">
  <div
    id="carousel3"
    data-interval={intervalTime} 
    class="flex transition-transform duration-500 ease-in-out p-4 space-x-8"
  >
    {
      slides.map((slide) => (
        <div class="w-full flex-shrink-0">
          <Image src={slide.src} alt={slide.alt} class="w-full h-full object-cover rounded-xl"/>
        </div>
      ))
    }
  </div>

  <!-- Buttons -->

  <div
    id="prevBtn3"
    class="absolute overflow-hidden left-0 top-0 h-full w-[20%] flex justify-start items-center group"
  >
    <button
      class="flex justify-center items-center size-12 md:-translate-x-full group-hover:translate-x-0 bg-black/90 backdrop-blur-xs cursor-pointer transition-transform duration-100 ease-in-out rounded-full"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1"
        stroke="currentColor"
        class="size-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15.75 19.5 8.25 12l7.5-7.5"></path>
      </svg>
    </button>
  </div>

  <div
    id="nextBtn3"
    class="absolute overflow-hidden right-0 top-0 h-full w-[20%] flex justify-end items-center group"
  >
    <button
      class="flex justify-center items-center size-12 md:translate-x-full group-hover:translate-x-0 bg-black/90 backdrop-blur-xs cursor-pointer transition-transform duration-100 ease-in-out rounded-full"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1"
        stroke="currentColor"
        class="size-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="m8.25 4.5 7.5 7.5-7.5 7.5"></path>
      </svg>
    </button>
  </div>
</div>

<!-- Script -->

<script>
  const nextBtn3 = document.getElementById("nextBtn3");
  const prevBtn3 = document.getElementById("prevBtn3");
  const carousel3 = document.getElementById("carousel3");

  let carouselIndex3 = 0;
  const totalSlides3 = carousel3.children.length;
  const carouselInterval3 = carousel3.dataset.interval;

  setInterval(() => {
    carouselIndex3 = (carouselIndex3 + 1) % totalSlides3;
    carousel3.style.transform = `translateX(-${100 * carouselIndex3}%)`;
  }, carouselInterval3);

  nextBtn3.addEventListener("click", () => {
    carouselIndex3 = (carouselIndex3 + 1) % totalSlides3;
    carousel3.style.transform = `translateX(-${100 * carouselIndex3}%)`;
  });

  prevBtn3.addEventListener("click", () => {
    carouselIndex3 = (carouselIndex3 - 1 + totalSlides3) % totalSlides3;
    carousel3.style.transform = `translateX(-${100 * carouselIndex3}%)`;
  });
</script>
