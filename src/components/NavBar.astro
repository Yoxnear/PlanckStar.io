---
import { Image } from "astro:assets";
import planckstar from "../assets/icons/planckstar.svg";
---

<header
  class="fixed flex justify-center items-center px-6 md:px-15 shadow-md w-full border-b border-tertiary/30 z-10 backdrop-blur-sm text-tertiary"
>
  <nav class="grid grid-cols-[1fr_3fr_1fr] lg:grid-cols-3 w-full">
    <a href="/" class="py-4 w-8"
      ><Image src={planckstar} alt="Planckstar" class="w-full fill-tertiary" />
    </a>

    <div
      class="hidden md:flex w-full justify-center items-center border-x border-tertiary/30"
    >
      <ul class="grid grid-cols-3 w-full h-full items-center">
        <li class="flex justify-center">
          <a href="#components" class="">Components</a>
        </li>
        <li
          class="flex justify-center border-x border-tertiary/30 h-full items-center"
        >
          <a href="#backgrounds" class="">Backgrounds</a>
        </li>
        <li class="flex justify-center">
          <a href="#effects" class="">Effects</a>
        </li>
      </ul>
    </div>

    <div class="hidden md:flex space-x-6 w-full justify-end items-center">
      <a href="https://github.com/Yoxnear" target="_blank">
        <span class="sr-only">Link GitHub</span>
        <svg
          role="img"
          class="fill-tertiary size-6"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          ><title>GitHub</title><path
            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 
            11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633
             17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 
             3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 
             1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405
              1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84
               1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015
                3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"
          ></path>
        </svg>
      </a>
      <a href="https://x.com/Ramas_te" target="_blank">
        <span class="sr-only">Link X</span>
        <svg
          role="img"
          class="fill-tertiary size-6"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          ><title>X</title><path
            d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 
            7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"
          ></path>
        </svg>
      </a>
    </div>
    <button
      id="menu-toggle"
      class="flex md:hidden col-start-3 text-xl focus:outline-none cursor-pointer my-6 mr-0 ml-auto flex-col justify-around"
      aria-label="Toggle menu"
    >
      <span
        class="block w-6 h-[1px] bg-white transition-transform duration-300 ease-in-out origin-center menu-top"
      ></span>
      <span
        class="block w-6 h-[1px] bg-white transition-opacity duration-300 ease-in-out menu-middle"
      ></span>
      <span
        class="block w-6 h-[1px] bg-white transition-transform duration-300 ease-in-out origin-center menu-bottom"
      ></span>
    </button>

    <div
      id="mobile-menu"
      class="translate-x-full md:hidden absolute right-0 -bottom-[1px] h-screen w-full translate-y-full -z-10 transition-transform duration-300"
    >
      <div
        id="close-area"
        class="absolute w-full h-full top-0 left-0 backdrop-blur-xs"
      >
      </div>
      <div
        class="absolute top-0 right-0 h-full sm:w-[50%] w-[70%] bg-background border-l border-tertiary/30 space-y-3 bg-primary/90"
      >
        <ul class="flex flex-col w-full h-full items-center">
          <li class="flex justify-center w-full">
            <a href="#components" class="w-full h-full text-center py-8"
              >Components</a
            >
          </li>
          <li class="flex justify-center w-full border-t border-tertiary/30">
            <a href="#backgrounds" class="w-full h-full text-center py-8"
              >Backgrounds</a
            >
          </li>
          <li class="flex justify-center w-full border-y border-tertiary/30">
            <a href="#effects" class="w-full h-full text-center py-8">Effects</a
            >
          </li>
          <li class="flex justify-around w-full border-b border-tertiary/30">
            <a
              href="https://github.com/Yoxnear"
              target="_blank"
              class="flex justify-center items-center py-8 w-full border-r border-tertiary/30"
            >
              <span class="sr-only">Link GitHub</span>
              <svg
                role="img"
                class="fill-tertiary size-6"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                ><title>GitHub</title><path
                  d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 
            11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633
             17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 
             3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 
             1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405
              1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84
               1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015
                3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"
                ></path>
              </svg>
            </a>
            <a
              href="https://x.com/Ramas_te"
              target="_blank"
              class="flex justify-center items-center py-8 w-full"
            >
              <span class="sr-only">Link X</span>
              <svg
                role="img"
                class="fill-tertiary size-6"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                ><title>X</title><path
                  d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 
            7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"
                ></path>
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");
    const closeArea = document.getElementById("close-area");
    const top = toggle.querySelector(".menu-top");
    const middle = toggle.querySelector(".menu-middle");
    const bottom = toggle.querySelector(".menu-bottom");

    if (!toggle || !mobileMenu || !closeArea) return;

    toggle.addEventListener("click", () => {
      mobileMenu.classList.toggle("translate-x-full");
      toggleMenuAnimation();
    });

    closeArea.addEventListener("click", () => {
      mobileMenu.classList.add("translate-x-full");
      toggleMenuAnimation();
    });

    const mobileLinks = mobileMenu.querySelectorAll("a");
    mobileLinks.forEach((link) => {
      link.addEventListener("click", () => {
        mobileMenu.classList.add("hidden");
      });
    });

    function toggleMenuAnimation() {
      if (mobileMenu.classList.contains("translate-x-full")) {
        top.style.transform = "rotate(0) translateY(0)";
        middle.style.opacity = "1";
        bottom.style.transform = "rotate(0) translateY(0)";
      } else {
        top.style.transform = "rotate(45deg) translateY(11px)";
        middle.style.opacity = "0";
        bottom.style.transform = "rotate(-45deg) translateY(-10px)";
      }
    }
  });
</script>
